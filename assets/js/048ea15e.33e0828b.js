"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[67426],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>h});var a=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=a.createContext({}),l=function(e){var n=a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},d=function(e){var n=l(e.components);return a.createElement(c.Provider,{value:n},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},p=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,c=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),u=l(t),p=o,h=u["".concat(c,".").concat(p)]||u[p]||m[p]||r;return t?a.createElement(h,s(s({ref:n},d),{},{components:t})):a.createElement(h,s({ref:n},d))}));function h(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,s=new Array(r);s[0]=p;var i={};for(var c in n)hasOwnProperty.call(n,c)&&(i[c]=n[c]);i.originalType=e,i[u]="string"==typeof e?e:o,s[1]=i;for(var l=2;l<r;l++)s[l]=t[l];return a.createElement.apply(null,s)}return a.createElement.apply(null,t)}p.displayName="MDXCreateElement"},82706:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>l});var a=t(87462),o=(t(67294),t(3905));const r={},s="Doctran Translate Documents",i={unversionedId:"integrations/document_transformers/doctran_translate_document",id:"integrations/document_transformers/doctran_translate_document",title:"Doctran Translate Documents",description:'Comparing documents through embeddings has the benefit of working across multiple languages. "Harrison says hello" and "Harrison dice hola" will occupy similar positions in the vector space because they have the same meaning semantically.',source:"@site/docs/integrations/document_transformers/doctran_translate_document.md",sourceDirName:"integrations/document_transformers",slug:"/integrations/document_transformers/doctran_translate_document",permalink:"/langchain/docs/integrations/document_transformers/doctran_translate_document",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"integrations",previous:{title:"Doctran Interrogate Documents",permalink:"/langchain/docs/integrations/document_transformers/doctran_interrogate_document"},next:{title:"html2text",permalink:"/langchain/docs/integrations/document_transformers/html2text"}},c={},l=[{value:"Input",id:"input",level:2},{value:"Output",id:"output",level:2}],d=(u="CodeOutputBlock",function(e){return console.warn("Component "+u+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",e)});var u;const m={toc:l},p="wrapper";function h(e){let{components:n,...t}=e;return(0,o.kt)(p,(0,a.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"doctran-translate-documents"},"Doctran Translate Documents"),(0,o.kt)("p",null,'Comparing documents through embeddings has the benefit of working across multiple languages. "Harrison says hello" and "Harrison dice hola" will occupy similar positions in the vector space because they have the same meaning semantically.'),(0,o.kt)("p",null,"However, it can still be useful to use a LLM translate documents into other languages before vectorizing them. This is especially helpful when users are expected to query the knowledge base in different languages, or when state of the art embeddings models are not available for a given language."),(0,o.kt)("p",null,"We can accomplish this using the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/psychic-api/doctran"},"Doctran")," library, which uses OpenAI's function calling feature to translate documents between languages."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"pip install doctran\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'\x3c!--IMPORTS:[{"imported": "Document", "source": "langchain.schema", "docs": "https://api.python.langchain.com/en/latest/schema/langchain.schema.document.Document.html", "title": "Doctran Translate Documents"}, {"imported": "DoctranTextTranslator", "source": "langchain.document_transformers", "docs": "https://api.python.langchain.com/en/latest/document_transformers/langchain.document_transformers.doctran_text_translate.DoctranTextTranslator.html", "title": "Doctran Translate Documents"}]--\x3e\nfrom langchain.schema import Document\nfrom langchain.document_transformers import DoctranTextTranslator\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"from dotenv import load_dotenv\n\nload_dotenv()\n")),(0,o.kt)(d,{lang:"python",mdxType:"CodeOutputBlock"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"    True\n"))),(0,o.kt)("h2",{id:"input"},"Input"),(0,o.kt)("p",null,"This is the document we'll translate"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'sample_text = """[Generated with ChatGPT]\n\nConfidential Document - For Internal Use Only\n\nDate: July 1, 2023\n\nSubject: Updates and Discussions on Various Topics\n\nDear Team,\n\nI hope this email finds you well. In this document, I would like to provide you with some important updates and discuss various topics that require our attention. Please treat the information contained herein as highly confidential.\n\nSecurity and Privacy Measures\nAs part of our ongoing commitment to ensure the security and privacy of our customers\' data, we have implemented robust measures across all our systems. We would like to commend John Doe (email: john.doe@example.com) from the IT department for his diligent work in enhancing our network security. Moving forward, we kindly remind everyone to strictly adhere to our data protection policies and guidelines. Additionally, if you come across any potential security risks or incidents, please report them immediately to our dedicated team at security@example.com.\n\nHR Updates and Employee Benefits\nRecently, we welcomed several new team members who have made significant contributions to their respective departments. I would like to recognize Jane Smith (SSN: 049-45-5928) for her outstanding performance in customer service. Jane has consistently received positive feedback from our clients. Furthermore, please remember that the open enrollment period for our employee benefits program is fast approaching. Should you have any questions or require assistance, please contact our HR representative, Michael Johnson (phone: 418-492-3850, email: michael.johnson@example.com).\n\nMarketing Initiatives and Campaigns\nOur marketing team has been actively working on developing new strategies to increase brand awareness and drive customer engagement. We would like to thank Sarah Thompson (phone: 415-555-1234) for her exceptional efforts in managing our social media platforms. Sarah has successfully increased our follower base by 20% in the past month alone. Moreover, please mark your calendars for the upcoming product launch event on July 15th. We encourage all team members to attend and support this exciting milestone for our company.\n\nResearch and Development Projects\nIn our pursuit of innovation, our research and development department has been working tirelessly on various projects. I would like to acknowledge the exceptional work of David Rodriguez (email: david.rodriguez@example.com) in his role as project lead. David\'s contributions to the development of our cutting-edge technology have been instrumental. Furthermore, we would like to remind everyone to share their ideas and suggestions for potential new projects during our monthly R&D brainstorming session, scheduled for July 10th.\n\nPlease treat the information in this document with utmost confidentiality and ensure that it is not shared with unauthorized individuals. If you have any questions or concerns regarding the topics discussed, please do not hesitate to reach out to me directly.\n\nThank you for your attention, and let\'s continue to work together to achieve our goals.\n\nBest regards,\n\nJason Fan\nCofounder & CEO\nPsychic\njason@psychic.dev\n"""\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'documents = [Document(page_content=sample_text)]\nqa_translator = DoctranTextTranslator(language="spanish")\n')),(0,o.kt)("h2",{id:"output"},"Output"),(0,o.kt)("p",null,"After translating a document, the result will be returned as a new document with the page_content translated into the target language"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"translated_document = await qa_translator.atransform_documents(documents)\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"print(translated_document[0].page_content)\n")),(0,o.kt)(d,{lang:"python",mdxType:"CodeOutputBlock"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"    [Generado con ChatGPT]\n    \n    Documento confidencial - Solo para uso interno\n    \n    Fecha: 1 de julio de 2023\n    \n    Asunto: Actualizaciones y discusiones sobre varios temas\n    \n    Estimado equipo,\n    \n    Espero que este correo electr\xf3nico les encuentre bien. En este documento, me gustar\xeda proporcionarles algunas actualizaciones importantes y discutir varios temas que requieren nuestra atenci\xf3n. Por favor, traten la informaci\xf3n contenida aqu\xed como altamente confidencial.\n    \n    Medidas de seguridad y privacidad\n    Como parte de nuestro compromiso continuo para garantizar la seguridad y privacidad de los datos de nuestros clientes, hemos implementado medidas robustas en todos nuestros sistemas. Nos gustar\xeda elogiar a John Doe (correo electr\xf3nico: john.doe@example.com) del departamento de TI por su diligente trabajo en mejorar nuestra seguridad de red. En adelante, recordamos amablemente a todos que se adhieran estrictamente a nuestras pol\xedticas y directrices de protecci\xf3n de datos. Adem\xe1s, si se encuentran con cualquier riesgo de seguridad o incidente potencial, por favor rep\xf3rtelo inmediatamente a nuestro equipo dedicado en security@example.com.\n    \n    Actualizaciones de RRHH y beneficios para empleados\n    Recientemente, dimos la bienvenida a varios nuevos miembros del equipo que han hecho contribuciones significativas a sus respectivos departamentos. Me gustar\xeda reconocer a Jane Smith (SSN: 049-45-5928) por su sobresaliente rendimiento en el servicio al cliente. Jane ha recibido constantemente comentarios positivos de nuestros clientes. Adem\xe1s, recuerden que el per\xedodo de inscripci\xf3n abierta para nuestro programa de beneficios para empleados se acerca r\xe1pidamente. Si tienen alguna pregunta o necesitan asistencia, por favor contacten a nuestro representante de RRHH, Michael Johnson (tel\xe9fono: 418-492-3850, correo electr\xf3nico: michael.johnson@example.com).\n    \n    Iniciativas y campa\xf1as de marketing\n    Nuestro equipo de marketing ha estado trabajando activamente en el desarrollo de nuevas estrategias para aumentar la conciencia de marca y fomentar la participaci\xf3n del cliente. Nos gustar\xeda agradecer a Sarah Thompson (tel\xe9fono: 415-555-1234) por sus excepcionales esfuerzos en la gesti\xf3n de nuestras plataformas de redes sociales. Sarah ha aumentado con \xe9xito nuestra base de seguidores en un 20% solo en el \xfaltimo mes. Adem\xe1s, por favor marquen sus calendarios para el pr\xf3ximo evento de lanzamiento de producto el 15 de julio. Animamos a todos los miembros del equipo a asistir y apoyar este emocionante hito para nuestra empresa.\n    \n    Proyectos de investigaci\xf3n y desarrollo\n    En nuestra b\xfasqueda de la innovaci\xf3n, nuestro departamento de investigaci\xf3n y desarrollo ha estado trabajando incansablemente en varios proyectos. Me gustar\xeda reconocer el excepcional trabajo de David Rodr\xedguez (correo electr\xf3nico: david.rodriguez@example.com) en su papel de l\xedder de proyecto. Las contribuciones de David al desarrollo de nuestra tecnolog\xeda de vanguardia han sido fundamentales. Adem\xe1s, nos gustar\xeda recordar a todos que compartan sus ideas y sugerencias para posibles nuevos proyectos durante nuestra sesi\xf3n de lluvia de ideas de I+D mensual, programada para el 10 de julio.\n    \n    Por favor, traten la informaci\xf3n de este documento con la m\xe1xima confidencialidad y aseg\xfarense de que no se comparte con personas no autorizadas. Si tienen alguna pregunta o inquietud sobre los temas discutidos, no duden en ponerse en contacto conmigo directamente.\n    \n    Gracias por su atenci\xf3n, y sigamos trabajando juntos para alcanzar nuestros objetivos.\n    \n    Saludos cordiales,\n    \n    Jason Fan\n    Cofundador y CEO\n    Psychic\n    jason@psychic.dev\n"))))}h.isMDXComponent=!0}}]);