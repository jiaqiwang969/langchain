"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[44347],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>h});var a=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=a.createContext({}),p=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},c=function(e){var n=p(e.components);return a.createElement(s.Provider,{value:n},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(t),m=o,h=u["".concat(s,".").concat(m)]||u[m]||d[m]||r;return t?a.createElement(h,i(i({ref:n},c),{},{components:t})):a.createElement(h,i({ref:n},c))}));function h(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,i=new Array(r);i[0]=m;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[u]="string"==typeof e?e:o,i[1]=l;for(var p=2;p<r;p++)i[p]=t[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},70462:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>m,contentTitle:()=>u,default:()=>y,frontMatter:()=>c,metadata:()=>d,toc:()=>h});var a=t(87462),o=(t(67294),t(3905));const r=(i="CodeOutputBlock",function(e){return console.warn("Component "+i+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",e)});var i;const l={toc:[]},s="wrapper";function p(e){let{components:n,...t}=e;return(0,o.kt)(s,(0,a.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Install ",(0,o.kt)("inlineCode",{parentName:"p"},"openai"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"google-search-results")," packages which are required as the LangChain packages call them internally."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"pip install openai google-search-results\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"from langchain.agents import initialize_agent, AgentType, Tool\nfrom langchain.chains import LLMMathChain\nfrom langchain.chat_models import ChatOpenAI\nfrom langchain.llms import OpenAI\nfrom langchain.utilities import SerpAPIWrapper, SQLDatabase\nfrom langchain_experimental.sql import SQLDatabaseChain\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'llm = ChatOpenAI(temperature=0, model="gpt-3.5-turbo-0613")\nsearch = SerpAPIWrapper()\nllm_math_chain = LLMMathChain.from_llm(llm=llm, verbose=True)\ndb = SQLDatabase.from_uri("sqlite:///../../../../../notebooks/Chinook.db")\ndb_chain = SQLDatabaseChain.from_llm(llm, db, verbose=True)\ntools = [\n    Tool(\n        name = "Search",\n        func=search.run,\n        description="useful for when you need to answer questions about current events. You should ask targeted questions"\n    ),\n    Tool(\n        name="Calculator",\n        func=llm_math_chain.run,\n        description="useful for when you need to answer questions about math"\n    ),\n    Tool(\n        name="FooBar-DB",\n        func=db_chain.run,\n        description="useful for when you need to answer questions about FooBar. Input should be in the form of a question containing full context"\n    )\n]\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"agent = initialize_agent(tools, llm, agent=AgentType.OPENAI_FUNCTIONS, verbose=True)\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'agent.run("Who is Leo DiCaprio\'s girlfriend? What is her current age raised to the 0.43 power?")\n')),(0,o.kt)(r,{lang:"python",mdxType:"CodeOutputBlock"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"    > Entering new  chain...\n    \n    Invoking: `Search` with `{'query': 'Leo DiCaprio girlfriend'}`\n    \n    \n    Amidst his casual romance with Gigi, Leo allegedly entered a relationship with 19-year old model, Eden Polani, in February 2023.\n    Invoking: `Calculator` with `{'expression': '19^0.43'}`\n    \n\n    > Entering new  chain...\n    19^0.43```text\n    19**0.43\n    ```\n    ...numexpr.evaluate(\"19**0.43\")...\n    \n    Answer: 3.547023357958959\n    > Finished chain.\n    Answer: 3.547023357958959Leo DiCaprio's girlfriend is reportedly Eden Polani. Her current age raised to the power of 0.43 is approximately 3.55.\n    \n    > Finished chain.\n\n\n    \"Leo DiCaprio's girlfriend is reportedly Eden Polani. Her current age raised to the power of 0.43 is approximately 3.55.\"\n"))))}p.isMDXComponent=!0;const c={},u="OpenAI functions",d={unversionedId:"modules/agents/agent_types/openai_functions_agent",id:"modules/agents/agent_types/openai_functions_agent",title:"OpenAI functions",description:"Certain OpenAI models (like gpt-3.5-turbo-0613 and gpt-4-0613) have been fine-tuned to detect when a function should be called and respond with the inputs that should be passed to the function.",source:"@site/docs/modules/agents/agent_types/openai_functions_agent.mdx",sourceDirName:"modules/agents/agent_types",slug:"/modules/agents/agent_types/openai_functions_agent",permalink:"/langchain/docs/modules/agents/agent_types/openai_functions_agent",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Conversational",permalink:"/langchain/docs/modules/agents/agent_types/chat_conversation_agent"},next:{title:"OpenAI Multi Functions Agent",permalink:"/langchain/docs/modules/agents/agent_types/openai_multi_functions_agent"}},m={},h=[],g={toc:h},f="wrapper";function y(e){let{components:n,...t}=e;return(0,o.kt)(f,(0,a.Z)({},g,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"openai-functions"},"OpenAI functions"),(0,o.kt)("p",null,"Certain OpenAI models (like gpt-3.5-turbo-0613 and gpt-4-0613) have been fine-tuned to detect when a function should be called and respond with the inputs that should be passed to the function.\nIn an API call, you can describe functions and have the model intelligently choose to output a JSON object containing arguments to call those functions.\nThe goal of the OpenAI Function APIs is to more reliably return valid and useful function calls than a generic text completion or chat API."),(0,o.kt)("p",null,"The OpenAI Functions Agent is designed to work with these models."),(0,o.kt)(p,{mdxType:"Example"}))}y.isMDXComponent=!0}}]);