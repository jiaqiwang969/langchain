"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[45200],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>f});var a=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=a.createContext({}),c=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},p=function(e){var n=c(e.components);return a.createElement(s.Provider,{value:n},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=c(t),m=o,f=u["".concat(s,".").concat(m)]||u[m]||d[m]||r;return t?a.createElement(f,l(l({ref:n},p),{},{components:t})):a.createElement(f,l({ref:n},p))}));function f(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,l=new Array(r);l[0]=m;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i[u]="string"==typeof e?e:o,l[1]=i;for(var c=2;c<r;c++)l[c]=t[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},21905:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>c});var a=t(87462),o=(t(67294),t(3905));const r={},l="Confluence",i={unversionedId:"integrations/document_loaders/confluence",id:"integrations/document_loaders/confluence",title:"Confluence",description:"Confluence is a wiki collaboration platform that saves and organizes all of the project-related material. Confluence is a knowledge base that primarily handles content management activities.",source:"@site/docs/integrations/document_loaders/confluence.md",sourceDirName:"integrations/document_loaders",slug:"/integrations/document_loaders/confluence",permalink:"/langchain/docs/integrations/document_loaders/confluence",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"integrations",previous:{title:"Concurrent Loader",permalink:"/langchain/docs/integrations/document_loaders/concurrent"},next:{title:"CoNLL-U",permalink:"/langchain/docs/integrations/document_loaders/conll-u"}},s={},c=[{value:"Examples",id:"examples",level:2},{value:"Username and Password or Username and API Token (Atlassian Cloud only)",id:"username-and-password-or-username-and-api-token-atlassian-cloud-only",level:3},{value:"Personal Access Token (Server/On-Prem only)",id:"personal-access-token-serveron-prem-only",level:3}],p={toc:c},u="wrapper";function d(e){let{components:n,...t}=e;return(0,o.kt)(u,(0,a.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"confluence"},"Confluence"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("a",{parentName:"p",href:"https://www.atlassian.com/software/confluence"},"Confluence")," is a wiki collaboration platform that saves and organizes all of the project-related material. ",(0,o.kt)("inlineCode",{parentName:"p"},"Confluence")," is a knowledge base that primarily handles content management activities. ")),(0,o.kt)("p",null,"A loader for ",(0,o.kt)("inlineCode",{parentName:"p"},"Confluence")," pages."),(0,o.kt)("p",null,"This currently supports ",(0,o.kt)("inlineCode",{parentName:"p"},"username/api_key"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"Oauth2 login"),". Additionally, on-prem installations also support ",(0,o.kt)("inlineCode",{parentName:"p"},"token")," authentication. "),(0,o.kt)("p",null,"Specify a list ",(0,o.kt)("inlineCode",{parentName:"p"},"page_id"),"-s and/or ",(0,o.kt)("inlineCode",{parentName:"p"},"space_key")," to load in the corresponding pages into Document objects, if both are specified the union of both sets will be returned."),(0,o.kt)("p",null,"You can also specify a boolean ",(0,o.kt)("inlineCode",{parentName:"p"},"include_attachments")," to include attachments, this is set to False by default, if set to True all attachments will be downloaded and ConfluenceReader will extract the text from the attachments and add it to the Document object. Currently supported attachment types are: ",(0,o.kt)("inlineCode",{parentName:"p"},"PDF"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"PNG"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"JPEG/JPG"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"SVG"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"Word")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"Excel"),"."),(0,o.kt)("p",null,"Hint: ",(0,o.kt)("inlineCode",{parentName:"p"},"space_key")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"page_id")," can both be found in the URL of a page in Confluence - ",(0,o.kt)("a",{parentName:"p",href:"https://yoursite.atlassian.com/wiki/spaces/"},"https://yoursite.atlassian.com/wiki/spaces/"),"<space_key>/pages/<page_id>"),(0,o.kt)("p",null,"Before using ConfluenceLoader make sure you have the latest version of the atlassian-python-api package installed:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"#!pip install atlassian-python-api\n")),(0,o.kt)("h2",{id:"examples"},"Examples"),(0,o.kt)("h3",{id:"username-and-password-or-username-and-api-token-atlassian-cloud-only"},"Username and Password or Username and API Token (Atlassian Cloud only)"),(0,o.kt)("p",null,"This example authenticates using either a username and password or, if you're connecting to an Atlassian Cloud hosted version of Confluence, a username and an API Token.\nYou can generate an API token at: ",(0,o.kt)("a",{parentName:"p",href:"https://id.atlassian.com/manage-profile/security/api-tokens"},"https://id.atlassian.com/manage-profile/security/api-tokens"),"."),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"limit")," parameter specifies how many documents will be retrieved in a single call, not how many documents will be retrieved in total.\nBy default the code will return up to 1000 documents in 50 documents batches. To control the total number of documents use the ",(0,o.kt)("inlineCode",{parentName:"p"},"max_pages")," parameter.\nPlese note the maximum value for the ",(0,o.kt)("inlineCode",{parentName:"p"},"limit")," parameter in the atlassian-python-api package is currently 100.  "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'\x3c!--IMPORTS:[{"imported": "ConfluenceLoader", "source": "langchain.document_loaders", "docs": "https://api.python.langchain.com/en/latest/document_loaders/langchain.document_loaders.confluence.ConfluenceLoader.html", "title": "Confluence"}]--\x3e\nfrom langchain.document_loaders import ConfluenceLoader\n\nloader = ConfluenceLoader(\n    url="https://yoursite.atlassian.com/wiki", username="me", api_key="12345"\n)\ndocuments = loader.load(space_key="SPACE", include_attachments=True, limit=50)\n')),(0,o.kt)("h3",{id:"personal-access-token-serveron-prem-only"},"Personal Access Token (Server/On-Prem only)"),(0,o.kt)("p",null,"This method is valid for the Data Center/Server on-prem edition only.\nFor more information on how to generate a Personal Access Token (PAT) check the official Confluence documentation at: ",(0,o.kt)("a",{parentName:"p",href:"https://confluence.atlassian.com/enterprise/using-personal-access-tokens-1026032365.html"},"https://confluence.atlassian.com/enterprise/using-personal-access-tokens-1026032365.html"),".\nWhen using a PAT you provide only the token value, you cannot provide a username.\nPlease note that ConfluenceLoader will run under the permissions of the user that generated the PAT and will only be able to load documents for which said user has access to.  "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'\x3c!--IMPORTS:[{"imported": "ConfluenceLoader", "source": "langchain.document_loaders", "docs": "https://api.python.langchain.com/en/latest/document_loaders/langchain.document_loaders.confluence.ConfluenceLoader.html", "title": "Confluence"}]--\x3e\nfrom langchain.document_loaders import ConfluenceLoader\n\nloader = ConfluenceLoader(url="https://yoursite.atlassian.com/wiki", token="12345")\ndocuments = loader.load(\n    space_key="SPACE", include_attachments=True, limit=50, max_pages=50\n)\n')))}d.isMDXComponent=!0}}]);