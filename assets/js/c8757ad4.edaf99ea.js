"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[57830],{3905:(e,n,t)=>{t.d(n,{Zo:()=>l,kt:()=>h});var a=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=a.createContext({}),u=function(e){var n=a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},l=function(e){var n=u(e.components);return a.createElement(c.Provider,{value:n},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),p=u(t),d=o,h=p["".concat(c,".").concat(d)]||p[d]||m[d]||r;return t?a.createElement(h,i(i({ref:n},l),{},{components:t})):a.createElement(h,i({ref:n},l))}));function h(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,i=new Array(r);i[0]=d;var s={};for(var c in n)hasOwnProperty.call(n,c)&&(s[c]=n[c]);s.originalType=e,s[p]="string"==typeof e?e:o,i[1]=s;for(var u=2;u<r;u++)i[u]=t[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},79799:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>p,default:()=>y,frontMatter:()=>l,metadata:()=>m,toc:()=>h});var a=t(87462),o=(t(67294),t(3905));const r=(i="CodeOutputBlock",function(e){return console.warn("Component "+i+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",e)});var i;const s={toc:[{value:"Summarize",id:"summarize",level:2},{value:"Question Answering",id:"question-answering",level:2}]},c="wrapper";function u(e){let{components:n,...t}=e;return(0,o.kt)(c,(0,a.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'with open("../../state_of_the_union.txt") as f:\n    state_of_the_union = f.read()\n')),(0,o.kt)("h2",{id:"summarize"},"Summarize"),(0,o.kt)("p",null,"Let's take a look at it in action below, using it to summarize a long document."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'from langchain import OpenAI\nfrom langchain.chains.summarize import load_summarize_chain\n\nllm = OpenAI(temperature=0)\nsummary_chain = load_summarize_chain(llm, chain_type="map_reduce")\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"from langchain.chains import AnalyzeDocumentChain\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"summarize_document_chain = AnalyzeDocumentChain(combine_docs_chain=summary_chain)\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"summarize_document_chain.run(state_of_the_union)\n")),(0,o.kt)(r,{lang:"python",mdxType:"CodeOutputBlock"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"    \" In this speech, President Biden addresses the American people and the world, discussing the recent aggression of Russia's Vladimir Putin in Ukraine and the US response. He outlines economic sanctions and other measures taken to hold Putin accountable, and announces the US Department of Justice's task force to go after the crimes of Russian oligarchs. He also announces plans to fight inflation and lower costs for families, invest in American manufacturing, and provide military, economic, and humanitarian assistance to Ukraine. He calls for immigration reform, protecting the rights of women, and advancing the rights of LGBTQ+ Americans, and pays tribute to military families. He concludes with optimism for the future of America.\"\n"))),(0,o.kt)("h2",{id:"question-answering"},"Question Answering"),(0,o.kt)("p",null,"Let's take a look at this using a question answering chain."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"from langchain.chains.question_answering import load_qa_chain\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'qa_chain = load_qa_chain(llm, chain_type="map_reduce")\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"qa_document_chain = AnalyzeDocumentChain(combine_docs_chain=qa_chain)\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'qa_document_chain.run(input_document=state_of_the_union, question="what did the president say about justice breyer?")\n')),(0,o.kt)(r,{lang:"python",mdxType:"CodeOutputBlock"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"    ' The president thanked Justice Breyer for his service.'\n"))))}u.isMDXComponent=!0;const l={},p="Analyze Document",m={unversionedId:"use_cases/question_answering/how_to/analyze_document",id:"use_cases/question_answering/how_to/analyze_document",title:"Analyze Document",description:"The AnalyzeDocumentChain can be used as an end-to-end to chain. This chain takes in a single document, splits it up, and then runs it through a CombineDocumentsChain.",source:"@site/docs/use_cases/question_answering/how_to/analyze_document.mdx",sourceDirName:"use_cases/question_answering/how_to",slug:"/use_cases/question_answering/how_to/analyze_document",permalink:"/langchain/docs/use_cases/question_answering/how_to/analyze_document",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"use_cases",previous:{title:"Analysis of Twitter the-algorithm source code with LangChain, GPT4 and Activeloop's Deep Lake",permalink:"/langchain/docs/use_cases/question_answering/how_to/code/twitter-the-algorithm-analysis-deeplake"},next:{title:"Conversational Retrieval Agent",permalink:"/langchain/docs/use_cases/question_answering/how_to/conversational_retrieval_agents"}},d={},h=[],g={toc:h},f="wrapper";function y(e){let{components:n,...t}=e;return(0,o.kt)(f,(0,a.Z)({},g,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"analyze-document"},"Analyze Document"),(0,o.kt)("p",null,"The AnalyzeDocumentChain can be used as an end-to-end to chain. This chain takes in a single document, splits it up, and then runs it through a CombineDocumentsChain."),(0,o.kt)(u,{mdxType:"Example"}))}y.isMDXComponent=!0}}]);