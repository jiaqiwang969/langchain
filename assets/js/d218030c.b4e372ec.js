"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[21853],{3905:(e,t,o)=>{o.d(t,{Zo:()=>l,kt:()=>g});var n=o(67294);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function i(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var m=n.createContext({}),c=function(e){var t=n.useContext(m),o=t;return e&&(o="function"==typeof e?e(t):s(s({},t),e)),o},l=function(e){var t=c(e.components);return n.createElement(m.Provider,{value:t},e.children)},p="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},y=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,a=e.originalType,m=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),p=c(o),y=r,g=p["".concat(m,".").concat(y)]||p[y]||h[y]||a;return o?n.createElement(g,s(s({ref:t},l),{},{components:o})):n.createElement(g,s({ref:t},l))}));function g(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=o.length,s=new Array(a);s[0]=y;var i={};for(var m in t)hasOwnProperty.call(t,m)&&(i[m]=t[m]);i.originalType=e,i[p]="string"==typeof e?e:r,s[1]=i;for(var c=2;c<a;c++)s[c]=o[c];return n.createElement.apply(null,s)}return n.createElement.apply(null,o)}y.displayName="MDXCreateElement"},69518:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>m,contentTitle:()=>s,default:()=>g,frontMatter:()=>a,metadata:()=>i,toc:()=>c});var n=o(87462),r=(o(67294),o(3905));const a={},s="Momento Chat Message History",i={unversionedId:"integrations/memory/momento_chat_message_history",id:"integrations/memory/momento_chat_message_history",title:"Momento Chat Message History",description:"This notebook goes over how to use Momento Cache to store chat message history using the MomentoChatMessageHistory class. See the Momento docs for more detail on how to get set up with Momento.",source:"@site/docs/integrations/memory/momento_chat_message_history.md",sourceDirName:"integrations/memory",slug:"/integrations/memory/momento_chat_message_history",permalink:"/langchain/docs/integrations/memory/momento_chat_message_history",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"integrations",previous:{title:"Entity Memory with SQLite storage",permalink:"/langchain/docs/integrations/memory/entity_memory_with_sqlite"},next:{title:"Mongodb Chat Message History",permalink:"/langchain/docs/integrations/memory/mongodb_chat_message_history"}},m={},c=[],l=(p="CodeOutputBlock",function(e){return console.warn("Component "+p+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",e)});var p;const h={toc:c},y="wrapper";function g(e){let{components:t,...o}=e;return(0,r.kt)(y,(0,n.Z)({},h,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"momento-chat-message-history"},"Momento Chat Message History"),(0,r.kt)("p",null,"This notebook goes over how to use ",(0,r.kt)("a",{parentName:"p",href:"https://gomomento.com"},"Momento Cache")," to store chat message history using the ",(0,r.kt)("inlineCode",{parentName:"p"},"MomentoChatMessageHistory")," class. See the Momento ",(0,r.kt)("a",{parentName:"p",href:"https://docs.momentohq.com/getting-started"},"docs")," for more detail on how to get set up with Momento."),(0,r.kt)("p",null,"Note that, by default we will create a cache if one with the given name doesn't already exist."),(0,r.kt)("p",null,"You'll need to get a Momento auth token to use this class. This can either be passed in to a momento.CacheClient if you'd like to instantiate that directly, as a named parameter ",(0,r.kt)("inlineCode",{parentName:"p"},"auth_token")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"MomentoChatMessageHistory.from_client_params"),", or can just be set as an environment variable ",(0,r.kt)("inlineCode",{parentName:"p"},"MOMENTO_AUTH_TOKEN"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'\x3c!--IMPORTS:[{"imported": "MomentoChatMessageHistory", "source": "langchain.memory", "docs": "https://api.python.langchain.com/en/latest/memory/langchain.memory.chat_message_histories.momento.MomentoChatMessageHistory.html", "title": "Momento Chat Message History"}]--\x3e\nfrom datetime import timedelta\n\nfrom langchain.memory import MomentoChatMessageHistory\n\nsession_id = "foo"\ncache_name = "langchain"\nttl = timedelta(days=1)\nhistory = MomentoChatMessageHistory.from_client_params(\n    session_id,\n    cache_name,\n    ttl,\n)\n\nhistory.add_user_message("hi!")\n\nhistory.add_ai_message("whats up?")\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"history.messages\n")),(0,r.kt)(l,{lang:"python",mdxType:"CodeOutputBlock"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"    [HumanMessage(content='hi!', additional_kwargs={}, example=False),\n     AIMessage(content='whats up?', additional_kwargs={}, example=False)]\n"))))}g.isMDXComponent=!0}}]);