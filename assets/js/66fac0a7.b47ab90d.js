"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[35066],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>f});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),c=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},d=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),p=c(a),u=n,f=p["".concat(s,".").concat(u)]||p[u]||m[u]||o;return a?r.createElement(f,l(l({ref:t},d),{},{components:a})):r.createElement(f,l({ref:t},d))}));function f(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,l=new Array(o);l[0]=u;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[p]="string"==typeof e?e:n,l[1]=i;for(var c=2;c<o;c++)l[c]=a[c];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},1158:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>m,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var r=a(87462),n=(a(67294),a(3905));const o={},l="Airbyte Typeform",i={unversionedId:"integrations/document_loaders/airbyte_typeform",id:"integrations/document_loaders/airbyte_typeform",title:"Airbyte Typeform",description:"Airbyte is a data integration platform for ELT pipelines from APIs, databases & files to warehouses & lakes. It has the largest catalog of ELT connectors to data warehouses and databases.",source:"@site/docs/integrations/document_loaders/airbyte_typeform.md",sourceDirName:"integrations/document_loaders",slug:"/integrations/document_loaders/airbyte_typeform",permalink:"/langchain/docs/integrations/document_loaders/airbyte_typeform",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"integrations",previous:{title:"Airbyte Stripe",permalink:"/langchain/docs/integrations/document_loaders/airbyte_stripe"},next:{title:"Airbyte Zendesk Support",permalink:"/langchain/docs/integrations/document_loaders/airbyte_zendesk_support"}},s={},c=[{value:"Installation",id:"installation",level:2},{value:"Example",id:"example",level:2},{value:"Incremental loads",id:"incremental-loads",level:2}],d={toc:c},p="wrapper";function m(e){let{components:t,...a}=e;return(0,n.kt)(p,(0,r.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"airbyte-typeform"},"Airbyte Typeform"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("a",{parentName:"p",href:"https://github.com/airbytehq/airbyte"},"Airbyte")," is a data integration platform for ELT pipelines from APIs, databases & files to warehouses & lakes. It has the largest catalog of ELT connectors to data warehouses and databases.")),(0,n.kt)("p",null,"This loader exposes the Typeform connector as a document loader, allowing you to load various Typeform objects as documents."),(0,n.kt)("h2",{id:"installation"},"Installation"),(0,n.kt)("p",null,"First, you need to install the ",(0,n.kt)("inlineCode",{parentName:"p"},"airbyte-source-typeform")," python package."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"#!pip install airbyte-source-typeform\n")),(0,n.kt)("h2",{id:"example"},"Example"),(0,n.kt)("p",null,"Check out the ",(0,n.kt)("a",{parentName:"p",href:"https://docs.airbyte.com/integrations/sources/typeform/"},"Airbyte documentation page")," for details about how to configure the reader.\nThe JSON schema the config object should adhere to can be found on Github: ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/airbytehq/airbyte/blob/master/airbyte-integrations/connectors/source-typeform/source_typeform/spec.json"},"https://github.com/airbytehq/airbyte/blob/master/airbyte-integrations/connectors/source-typeform/source_typeform/spec.json"),"."),(0,n.kt)("p",null,"The general shape looks like this:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},'{\n  "credentials": {\n    "auth_type": "Private Token",\n    "access_token": "<your auth token>"\n  },\n  "start_date": "<date from which to start retrieving records from in ISO format, e.g. 2020-10-20T00:00:00Z>",\n  "form_ids": ["<id of form to load records for>"] # if omitted, records from all forms will be loaded\n}\n')),(0,n.kt)("p",null,"By default all fields are stored as metadata in the documents and the text is set to an empty string. Construct the text of the document by transforming the documents returned by the reader."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},'\x3c!--IMPORTS:[{"imported": "AirbyteTypeformLoader", "source": "langchain.document_loaders.airbyte", "docs": "https://api.python.langchain.com/en/latest/document_loaders/langchain.document_loaders.airbyte.AirbyteTypeformLoader.html", "title": "Airbyte Typeform"}]--\x3e\nfrom langchain.document_loaders.airbyte import AirbyteTypeformLoader\n\nconfig = {\n    # your typeform configuration\n}\n\nloader = AirbyteTypeformLoader(config=config, stream_name="forms") # check the documentation linked above for a list of all streams\n')),(0,n.kt)("p",null,"Now you can load documents the usual way"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"docs = loader.load()\n")),(0,n.kt)("p",null,"As ",(0,n.kt)("inlineCode",{parentName:"p"},"load")," returns a list, it will block until all documents are loaded. To have better control over this process, you can also you the ",(0,n.kt)("inlineCode",{parentName:"p"},"lazy_load")," method which returns an iterator instead:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"docs_iterator = loader.lazy_load()\n")),(0,n.kt)("p",null,"Keep in mind that by default the page content is empty and the metadata object contains all the information from the record. To create documents in a different, pass in a record_handler function when creating the loader:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},'\x3c!--IMPORTS:[{"imported": "Document", "source": "langchain.docstore.document", "docs": "https://api.python.langchain.com/en/latest/schema/langchain.schema.document.Document.html", "title": "Airbyte Typeform"}]--\x3e\nfrom langchain.docstore.document import Document\n\ndef handle_record(record, id):\n    return Document(page_content=record.data["title"], metadata=record.data)\n\nloader = AirbyteTypeformLoader(config=config, record_handler=handle_record, stream_name="forms")\ndocs = loader.load()\n')),(0,n.kt)("h2",{id:"incremental-loads"},"Incremental loads"),(0,n.kt)("p",null,"Some streams allow incremental loading, this means the source keeps track of synced records and won't load them again. This is useful for sources that have a high volume of data and are updated frequently."),(0,n.kt)("p",null,"To take advantage of this, store the ",(0,n.kt)("inlineCode",{parentName:"p"},"last_state")," property of the loader and pass it in when creating the loader again. This will ensure that only new records are loaded."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},'last_state = loader.last_state # store safely\n\nincremental_loader = AirbyteTypeformLoader(config=config, record_handler=handle_record, stream_name="forms", state=last_state)\n\nnew_docs = incremental_loader.load()\n')))}m.isMDXComponent=!0}}]);