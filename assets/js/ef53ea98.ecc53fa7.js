"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[34483],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=p(n),d=o,h=u["".concat(l,".").concat(d)]||u[d]||g[d]||r;return n?a.createElement(h,s(s({ref:t},c),{},{components:n})):a.createElement(h,s({ref:t},c))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,s=new Array(r);s[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[u]="string"==typeof e?e:o,s[1]=i;for(var p=2;p<r;p++)s[p]=n[p];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},11003:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>g,frontMatter:()=>r,metadata:()=>i,toc:()=>p});var a=n(87462),o=(n(67294),n(3905));const r={},s="DataForSeo",i={unversionedId:"integrations/tools/dataforseo",id:"integrations/tools/dataforseo",title:"DataForSeo",description:"This notebook demonstrates how to use the DataForSeo API to obtain search engine results. The DataForSeo API retrieves SERP from most popular search engines like Google, Bing, Yahoo. It also allows to get SERPs from different search engine types like Maps, News, Events, etc.",source:"@site/docs/integrations/tools/dataforseo.md",sourceDirName:"integrations/tools",slug:"/integrations/tools/dataforseo",permalink:"/langchain/docs/integrations/tools/dataforseo",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"integrations",previous:{title:"Dall-E Image Generator",permalink:"/langchain/docs/integrations/tools/dalle_image_generator"},next:{title:"DuckDuckGo Search",permalink:"/langchain/docs/integrations/tools/ddg"}},l={},p=[{value:"Setting up the API credentials",id:"setting-up-the-api-credentials",level:2},{value:"The Difference Between <code>run</code> and <code>results</code>",id:"the-difference-between-run-and-results",level:2},{value:"Getting Results as JSON",id:"getting-results-as-json",level:2},{value:"Customizing Location and Language",id:"customizing-location-and-language",level:2},{value:"Customizing the Search Engine",id:"customizing-the-search-engine",level:2},{value:"Customizing the Search Type",id:"customizing-the-search-type",level:2},{value:"Integration with Langchain Agents",id:"integration-with-langchain-agents",level:2}],c={toc:p},u="wrapper";function g(e){let{components:t,...n}=e;return(0,o.kt)(u,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"dataforseo"},"DataForSeo"),(0,o.kt)("p",null,"This notebook demonstrates how to use the ",(0,o.kt)("inlineCode",{parentName:"p"},"DataForSeo API")," to obtain search engine results. The ",(0,o.kt)("inlineCode",{parentName:"p"},"DataForSeo API")," retrieves ",(0,o.kt)("inlineCode",{parentName:"p"},"SERP")," from most popular search engines like ",(0,o.kt)("inlineCode",{parentName:"p"},"Google"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"Bing"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"Yahoo"),". It also allows to get SERPs from different search engine types like ",(0,o.kt)("inlineCode",{parentName:"p"},"Maps"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"News"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"Events"),", etc."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'\x3c!--IMPORTS:[{"imported": "DataForSeoAPIWrapper", "source": "langchain.utilities.dataforseo_api_search", "docs": "https://api.python.langchain.com/en/latest/utilities/langchain.utilities.dataforseo_api_search.DataForSeoAPIWrapper.html", "title": "DataForSeo"}]--\x3e\nfrom langchain.utilities.dataforseo_api_search import DataForSeoAPIWrapper\n')),(0,o.kt)("h2",{id:"setting-up-the-api-credentials"},"Setting up the API credentials"),(0,o.kt)("p",null,"You can obtain your API credentials by registering on the ",(0,o.kt)("inlineCode",{parentName:"p"},"DataForSeo")," website."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'import os\n\nos.environ["DATAFORSEO_LOGIN"] = "your_api_access_username"\nos.environ["DATAFORSEO_PASSWORD"] = "your_api_access_password"\n\nwrapper = DataForSeoAPIWrapper()\n')),(0,o.kt)("p",null,"The run method will return the first result snippet from one of the following elements: answer_box, knowledge_graph, featured_snippet, shopping, organic."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'wrapper.run("Weather in Los Angeles")\n')),(0,o.kt)("h2",{id:"the-difference-between-run-and-results"},"The Difference Between ",(0,o.kt)("inlineCode",{parentName:"h2"},"run")," and ",(0,o.kt)("inlineCode",{parentName:"h2"},"results")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"run")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"results")," are two methods provided by the ",(0,o.kt)("inlineCode",{parentName:"p"},"DataForSeoAPIWrapper")," class."),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"run")," method executes the search and returns the first result snippet from the answer box, knowledge graph, featured snippet, shopping, or organic results. These elements are sorted by priority from highest to lowest."),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"results")," method returns a JSON response configured according to the parameters set in the wrapper. This allows for more flexibility in terms of what data you want to return from the API."),(0,o.kt)("h2",{id:"getting-results-as-json"},"Getting Results as JSON"),(0,o.kt)("p",null,"You can customize the result types and fields you want to return in the JSON response. You can also set a maximum count for the number of top results to return."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'json_wrapper = DataForSeoAPIWrapper(\n    json_result_types=["organic", "knowledge_graph", "answer_box"],\n    json_result_fields=["type", "title", "description", "text"],\n    top_count=3,\n)\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'json_wrapper.results("Bill Gates")\n')),(0,o.kt)("h2",{id:"customizing-location-and-language"},"Customizing Location and Language"),(0,o.kt)("p",null,"You can specify the location and language of your search results by passing additional parameters to the API wrapper."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'customized_wrapper = DataForSeoAPIWrapper(\n    top_count=10,\n    json_result_types=["organic", "local_pack"],\n    json_result_fields=["title", "description", "type"],\n    params={"location_name": "Germany", "language_code": "en"},\n)\ncustomized_wrapper.results("coffee near me")\n')),(0,o.kt)("h2",{id:"customizing-the-search-engine"},"Customizing the Search Engine"),(0,o.kt)("p",null,"You can also specify the search engine you want to use."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'customized_wrapper = DataForSeoAPIWrapper(\n    top_count=10,\n    json_result_types=["organic", "local_pack"],\n    json_result_fields=["title", "description", "type"],\n    params={"location_name": "Germany", "language_code": "en", "se_name": "bing"},\n)\ncustomized_wrapper.results("coffee near me")\n')),(0,o.kt)("h2",{id:"customizing-the-search-type"},"Customizing the Search Type"),(0,o.kt)("p",null,"The API wrapper also allows you to specify the type of search you want to perform. For example, you can perform a maps search."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'maps_search = DataForSeoAPIWrapper(\n    top_count=10,\n    json_result_fields=["title", "value", "address", "rating", "type"],\n    params={\n        "location_coordinate": "52.512,13.36,12z",\n        "language_code": "en",\n        "se_type": "maps",\n    },\n)\nmaps_search.results("coffee near me")\n')),(0,o.kt)("h2",{id:"integration-with-langchain-agents"},"Integration with Langchain Agents"),(0,o.kt)("p",null,"You can use the ",(0,o.kt)("inlineCode",{parentName:"p"},"Tool")," class from the ",(0,o.kt)("inlineCode",{parentName:"p"},"langchain.agents")," module to integrate the ",(0,o.kt)("inlineCode",{parentName:"p"},"DataForSeoAPIWrapper")," with a langchain agent. The ",(0,o.kt)("inlineCode",{parentName:"p"},"Tool")," class encapsulates a function that the agent can call."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'\x3c!--IMPORTS:[{"imported": "Tool", "source": "langchain.agents", "docs": "https://api.python.langchain.com/en/latest/tools/langchain.tools.base.Tool.html", "title": "DataForSeo"}]--\x3e\nfrom langchain.agents import Tool\n\nsearch = DataForSeoAPIWrapper(\n    top_count=3,\n    json_result_types=["organic"],\n    json_result_fields=["title", "description", "type"],\n)\ntool = Tool(\n    name="google-search-answer",\n    description="My new answer tool",\n    func=search.run,\n)\njson_tool = Tool(\n    name="google-search-json",\n    description="My new json tool",\n    func=search.results,\n)\n')))}g.isMDXComponent=!0}}]);