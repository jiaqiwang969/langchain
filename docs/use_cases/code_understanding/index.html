<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-use_cases/code_understanding">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Code understanding | 🦜️🔗 Langchain</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://jiaqiwang969.github.io/langchain/img/parrot-chainlink-icon.png"><meta data-rh="true" name="twitter:image" content="https://jiaqiwang969.github.io/langchain/img/parrot-chainlink-icon.png"><meta data-rh="true" property="og:url" content="https://jiaqiwang969.github.io/langchain/docs/use_cases/code_understanding"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Code understanding | 🦜️🔗 Langchain"><meta data-rh="true" name="description" content="Open In Collab"><meta data-rh="true" property="og:description" content="Open In Collab"><link data-rh="true" rel="icon" href="/langchain/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://jiaqiwang969.github.io/langchain/docs/use_cases/code_understanding"><link data-rh="true" rel="alternate" href="https://jiaqiwang969.github.io/langchain/docs/use_cases/code_understanding" hreflang="en"><link data-rh="true" rel="alternate" href="https://jiaqiwang969.github.io/langchain/docs/use_cases/code_understanding" hreflang="x-default"><link rel="stylesheet" href="/langchain/assets/css/styles.b9396054.css">
<link rel="preload" href="/langchain/assets/js/runtime~main.a20b23d6.js" as="script">
<link rel="preload" href="/langchain/assets/js/main.af9852a9.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/langchain/"><b class="navbar__title text--truncate">🦜️🔗 LangChain</b></a><a class="navbar__item navbar__link" href="/langchain/docs/get_started/introduction">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/langchain/docs/use_cases">Use cases</a><a class="navbar__item navbar__link" href="/langchain/docs/integrations">Integrations</a><a href="https://api.python.langchain.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://smith.langchain.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LangSmith</a><a href="https://js.langchain.com/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">JS/TS Docs</a><a href="https://github.com/hwchase17/langchain" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="mendable-search"><button class="ms-global search-btn__input ms-m-0 ms-flex ms-h-10 ms-w-full ms-flex-row ms-items-center ms-justify-between ms-gap-2 ms-rounded-xl ms-bg-gray-50 ms-p-1 ms-pl-2 ms-pr-1 ms-shadow ms-outline-none ms-ring-0 ms-transition-all hover:ms-cursor-pointer hover:ms-shadow-md sm:ms-p-2 sm:ms-pl-4 sm:ms-pr-2"><div class="ms-global search-btn__input-container ms-flex ms-w-full ms-min-w-0 ms-items-center ms-gap-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="search-btn__icon hover:fill-white ms-h-5 ms-w-5 ms-fill-gray-400 ms-text-gray-400 hover:ms-text-white focus:ms-fill-white focus:ms-text-white sm:ms-h-6 sm:ms-w-6" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0z"></path><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></svg><input readonly="" id="userInput" name="userInput" maxlength="512" placeholder="Search..." class="ms-global search-btn__input ms-w-full ms-flex-grow ms-truncate ms-bg-transparent ms-text-sm ms-outline-none ms-ring-0 ms-ring-transparent hover:ms-cursor-text focus:ms-outline-none focus:ms-ring-0 focus:ms-ring-transparent sm:ms-text-base"></div><div class="search-btn__shortcut ms-z-10 ms-flex ms-flex-row ms-items-center ms-gap-1 ms-rounded-lg ms-border ms-py-[2px] ms-px-[8px] ms-text-xs ms-text-gray-400 ms-transition-all disabled:ms-bg-opacity-10"><span>CTRL</span><span>K</span></div></button><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/langchain/docs/use_cases">Use cases</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/langchain/docs/use_cases/question_answering/">Question Answering</a><button aria-label="Toggle the collapsible sidebar category &#x27;Question Answering&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/langchain/docs/use_cases/question_answering/how_to/vector_db_qa">How to</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/langchain/docs/use_cases/question_answering/integrations/openai_functions_retrieval_qa">Integration-specific</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/langchain/docs/use_cases/qa_structured/sql">QA over structured data</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/langchain/docs/use_cases/qa_structured/sql">SQL</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/langchain/docs/use_cases/qa_structured/integrations/elasticsearch">Integration-specific</a></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/langchain/docs/use_cases/apis">Interacting with APIs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/langchain/docs/use_cases/chatbots">Chatbots</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/langchain/docs/use_cases/code_understanding">Code understanding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/langchain/docs/use_cases/extraction">Extraction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/langchain/docs/use_cases/summarization">Summarization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/langchain/docs/use_cases/tagging">Tagging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/langchain/docs/use_cases/web_scraping">Web scraping</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/langchain/docs/use_cases/more/agents/">More</a></div></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/langchain/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/langchain/docs/use_cases"><span itemprop="name">Use cases</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Code understanding</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Code understanding</h1></header><p><a href="https://colab.research.google.com/github/langchain-ai/langchain/blob/master/docs/extras/use_cases/code_understanding.ipynb" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Collab" class="img_ev3q"></a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-case">Use case<a href="#use-case" class="hash-link" aria-label="Direct link to Use case" title="Direct link to Use case">​</a></h2><p>Source code analysis is one of the most popular LLM applications (e.g., <a href="https://github.com/features/copilot" target="_blank" rel="noopener noreferrer">GitHub Co-Pilot</a>, <a href="https://chat.openai.com/auth/login?next=%2F%3Fmodel%3Dgpt-4-code-interpreter" target="_blank" rel="noopener noreferrer">Code Interpreter</a>, <a href="https://www.codium.ai/" target="_blank" rel="noopener noreferrer">Codium</a>, and <a href="https://codeium.com/about" target="_blank" rel="noopener noreferrer">Codeium</a>) for use-cases such as:</p><ul><li>Q&amp;A over the code base to understand how it works</li><li>Using LLMs for suggesting refactors or improvements</li><li>Using LLMs for documenting the code</li></ul><p><img loading="lazy" alt="Image description" src="/langchain/assets/images/code_understanding-cd1bda63c69e227203a1d5a7e8133887.png" width="1632" height="700" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2><p>The pipeline for QA over code follows <a href="/langchain/docs/extras/use_cases/question_answering">the steps we do for document question answering</a>, with some differences:</p><p>In particular, we can employ a <a href="https://python.langchain.com/docs/integrations/document_loaders/source_code" target="_blank" rel="noopener noreferrer">splitting strategy</a> that does a few things:</p><ul><li>Keeps each top-level function and class in the code is loaded into separate documents. </li><li>Puts remaining into a separate document.</li><li>Retains metadata about where each split comes from</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="quickstart">Quickstart<a href="#quickstart" class="hash-link" aria-label="Direct link to Quickstart" title="Direct link to Quickstart">​</a></h2><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">pip </span><span class="token function" style="color:rgb(0, 0, 255)">install</span><span class="token plain"> openai tiktoken chromadb langchain</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># Set env var OPENAI_API_KEY or load from a .env file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># import dotenv</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># dotenv.load_dotenv()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We&#x27;lll follow the structure of <a href="https://github.com/cristobalcl/LearningLangChain/blob/master/notebooks/04%20-%20QA%20with%20code.ipynb" target="_blank" rel="noopener noreferrer">this notebook</a> and employ <a href="https://python.langchain.com/docs/integrations/document_loaders/source_code" target="_blank" rel="noopener noreferrer">context aware code splitting</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="loading">Loading<a href="#loading" class="hash-link" aria-label="Direct link to Loading" title="Direct link to Loading">​</a></h3><p>We will upload all python project files using the <code>langchain.document_loaders.TextLoader</code>.</p><p>The following script iterates over the files in the LangChain repository and loads every <code>.py</code> file (a.k.a. <strong>documents</strong>):</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"># from git import Repo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> langchain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">text_splitter </span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> Language</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> langchain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">document_loaders</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">generic </span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> GenericLoader</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> langchain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">document_loaders</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">parsers </span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> LanguageParser</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)"><h4 style="padding-left:0.65rem;margin-bottom:0.45rem">API Reference:</h4><ul style="padding-bottom:1rem"><li><a href="https://api.python.langchain.com/en/latest/text_splitter/langchain.text_splitter.Language.html"><span>Language</span></a></li><li><a href="https://api.python.langchain.com/en/latest/document_loaders/langchain.document_loaders.generic.GenericLoader.html"><span>GenericLoader</span></a></li><li><a href="https://api.python.langchain.com/en/latest/document_loaders/langchain.document_loaders.parsers.language.language_parser.LanguageParser.html"><span>LanguageParser</span></a></li></ul></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"># Clone</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">repo_path </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/Users/rlm/Desktop/test_repo&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># repo = Repo.clone_from(&quot;https://github.com/hwchase17/langchain&quot;, to_path=repo_path)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We load the py code using <a href="https://python.langchain.com/docs/integrations/document_loaders/source_code" target="_blank" rel="noopener noreferrer"><code>LanguageParser</code></a>, which will:</p><ul><li>Keep top-level functions and classes together (into a single document)</li><li>Put remaining code into a separate document</li><li>Retains metadata about where each split comes from</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"># Load</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">loader </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> GenericLoader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">from_filesystem</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    repo_path</span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/libs/langchain/langchain&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    glob</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;**/*&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    suffixes</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;.py&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    parser</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">LanguageParser</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">language</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">Language</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">PYTHON</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> parser_threshold</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">500</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">documents </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> loader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">load</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token builtin" style="color:rgb(0, 112, 193)">len</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">documents</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div lang="python"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">    1293</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="splitting">Splitting<a href="#splitting" class="hash-link" aria-label="Direct link to Splitting" title="Direct link to Splitting">​</a></h3><p>Split the <code>Document</code> into chunks for embedding and vector storage.</p><p>We can use <code>RecursiveCharacterTextSplitter</code> w/ <code>language</code> specified.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> langchain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">text_splitter </span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> RecursiveCharacterTextSplitter</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">python_splitter </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> RecursiveCharacterTextSplitter</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">from_language</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">language</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">Language</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">PYTHON</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                                                               chunk_size</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">2000</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                                                               chunk_overlap</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">200</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">texts </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> python_splitter</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">split_documents</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">documents</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token builtin" style="color:rgb(0, 112, 193)">len</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">texts</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)"><h4 style="padding-left:0.65rem;margin-bottom:0.45rem">API Reference:</h4><ul style="padding-bottom:1rem"><li><a href="https://api.python.langchain.com/en/latest/text_splitter/langchain.text_splitter.RecursiveCharacterTextSplitter.html"><span>RecursiveCharacterTextSplitter</span></a></li></ul></div><div lang="python"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">    3748</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="retrievalqa">RetrievalQA<a href="#retrievalqa" class="hash-link" aria-label="Direct link to RetrievalQA" title="Direct link to RetrievalQA">​</a></h3><p>We need to store the documents in a way we can semantically search for their content. </p><p>The most common approach is to embed the contents of each document then store the embedding and document in a vector store. </p><p>When setting up the vectorstore retriever:</p><ul><li>We test <a href="/langchain/docs/extras/use_cases/question_answering">max marginal relevance</a> for retrieval</li><li>And 8 documents returned</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="go-deeper">Go deeper<a href="#go-deeper" class="hash-link" aria-label="Direct link to Go deeper" title="Direct link to Go deeper">​</a></h4><ul><li>Browse the &gt; 40 vectorstores integrations <a href="https://integrations.langchain.com/" target="_blank" rel="noopener noreferrer">here</a>.</li><li>See further documentation on vectorstores <a href="/langchain/docs/modules/data_connection/vectorstores/">here</a>.</li><li>Browse the &gt; 30 text embedding integrations <a href="https://integrations.langchain.com/" target="_blank" rel="noopener noreferrer">here</a>.</li><li>See further documentation on embedding models <a href="/langchain/docs/modules/data_connection/text_embedding/">here</a>.</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> langchain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">vectorstores </span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> Chroma</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> langchain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">embeddings</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">openai </span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> OpenAIEmbeddings</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">db </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> Chroma</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">from_documents</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">texts</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> OpenAIEmbeddings</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">disallowed_special</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">retriever </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">as_retriever</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    search_type</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;mmr&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)"># Also test &quot;similarity&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    search_kwargs</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;k&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)"><h4 style="padding-left:0.65rem;margin-bottom:0.45rem">API Reference:</h4><ul style="padding-bottom:1rem"><li><a href="https://api.python.langchain.com/en/latest/vectorstores/langchain.vectorstores.chroma.Chroma.html"><span>Chroma</span></a></li><li><a href="https://api.python.langchain.com/en/latest/embeddings/langchain.embeddings.openai.OpenAIEmbeddings.html"><span>OpenAIEmbeddings</span></a></li></ul></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="chat">Chat<a href="#chat" class="hash-link" aria-label="Direct link to Chat" title="Direct link to Chat">​</a></h3><p>Test chat, just as we do for <a href="/langchain/docs/extras/use_cases/chatbots">chatbots</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="go-deeper-1">Go deeper<a href="#go-deeper-1" class="hash-link" aria-label="Direct link to Go deeper" title="Direct link to Go deeper">​</a></h4><ul><li>Browse the &gt; 55 LLM and chat model integrations <a href="https://integrations.langchain.com/" target="_blank" rel="noopener noreferrer">here</a>.</li><li>See further documentation on LLMs and chat models <a href="/langchain/docs/modules/model_io/models/">here</a>.</li><li>Use local LLMS: The popularity of <a href="https://github.com/imartinez/privateGPT" target="_blank" rel="noopener noreferrer">PrivateGPT</a> and <a href="https://github.com/nomic-ai/gpt4all" target="_blank" rel="noopener noreferrer">GPT4All</a> underscore the importance of running LLMs locally.</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> langchain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">chat_models </span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> ChatOpenAI</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> langchain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">memory </span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> ConversationSummaryMemory</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> langchain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">chains </span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> ConversationalRetrievalChain</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">llm </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> ChatOpenAI</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">model_name</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;gpt-4&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">memory </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> ConversationSummaryMemory</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">llm</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">llm</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain">memory_key</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;chat_history&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain">return_messages</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">qa </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> ConversationalRetrievalChain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">from_llm</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">llm</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> retriever</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">retriever</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> memory</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">memory</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)"><h4 style="padding-left:0.65rem;margin-bottom:0.45rem">API Reference:</h4><ul style="padding-bottom:1rem"><li><a href="https://api.python.langchain.com/en/latest/chat_models/langchain.chat_models.openai.ChatOpenAI.html"><span>ChatOpenAI</span></a></li><li><a href="https://api.python.langchain.com/en/latest/memory/langchain.memory.summary.ConversationSummaryMemory.html"><span>ConversationSummaryMemory</span></a></li><li><a href="https://api.python.langchain.com/en/latest/chains/langchain.chains.conversational_retrieval.base.ConversationalRetrievalChain.html"><span>ConversationalRetrievalChain</span></a></li></ul></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">question </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;How can I initialize a ReAct agent?&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">result </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> qa</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">question</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;answer&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div lang="python"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">    &#x27;To initialize a ReAct agent, you need to follow these steps:\n\n1. Initialize a language model `llm` of type `BaseLanguageModel`.\n\n2. Initialize a document store `docstore` of type `Docstore`.\n\n3. Create a `DocstoreExplorer` with the initialized `docstore`. The `DocstoreExplorer` is used to search for and look up terms in the document store.\n\n4. Create an array of `Tool` objects. The `Tool` objects represent the actions that the agent can perform. In the case of `ReActDocstoreAgent`, the tools must be &quot;Search&quot; and &quot;Lookup&quot; with their corresponding functions from the `DocstoreExplorer`.\n\n5. Initialize the `ReActDocstoreAgent` using the `from_llm_and_tools` method with the `llm` (language model) and `tools` as parameters.\n\n6. Initialize the `ReActChain` (which is the `AgentExecutor`) using the `ReActDocstoreAgent` and `tools` as parameters.\n\nHere is an example of how to do this:\n\n```python\nfrom langchain import ReActChain, OpenAI\nfrom langchain.docstore.base import Docstore\nfrom langchain.docstore.document import Document\nfrom langchain.tools.base import BaseTool\n\n# Initialize the LLM and a docstore\nllm = OpenAI()\ndocstore = Docstore()\n\ndocstore_explorer = DocstoreExplorer(docstore)\ntools = [\n    Tool(\n        name=&quot;Search&quot;,\n        func=docstore_explorer.search,\n        description=&quot;Search for a term in the docstore.&quot;,\n    ),\n    Tool(\n        name=&quot;Lookup&quot;,\n        func=docstore_explorer.lookup,\n        description=&quot;Lookup a term in the docstore.&quot;,\n    ),\n]\nagent = ReActDocstoreAgent.from_llm_and_tools(llm, tools)\nreact = ReActChain(agent=agent, tools=tools)\n```\n\nKeep in mind that this is a simplified example and you might need to adapt it to your specific needs.&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">questions </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;What is the class hierarchy?&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;What classes are derived from the Chain class?&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;What one improvement do you propose in code in relation to the class herarchy for the Chain class?&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> question </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> questions</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    result </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> qa</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">question</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&quot;-&gt; **Question**: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">question</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)"> \n&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&quot;**Answer**: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">result</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string-interpolation interpolation string" style="color:rgb(163, 21, 21)">&#x27;answer&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)"> \n&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div lang="python"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">    -&gt; **Question**: What is the class hierarchy? </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    **Answer**: The class hierarchy in object-oriented programming is the structure that forms when classes are derived from other classes. The derived class is a subclass of the base class also known as the superclass. This hierarchy is formed based on the concept of inheritance in object-oriented programming where a subclass inherits the properties and functionalities of the superclass. </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    In the given context, we have the following examples of class hierarchies:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    1. `BaseCallbackHandler --&gt; &lt;name&gt;CallbackHandler` means `BaseCallbackHandler` is a base class and `&lt;name&gt;CallbackHandler` (like `AimCallbackHandler`, `ArgillaCallbackHandler` etc.) are derived classes that inherit from `BaseCallbackHandler`.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    2. `BaseLoader --&gt; &lt;name&gt;Loader` means `BaseLoader` is a base class and `&lt;name&gt;Loader` (like `TextLoader`, `UnstructuredFileLoader` etc.) are derived classes that inherit from `BaseLoader`.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    3. `ToolMetaclass --&gt; BaseTool --&gt; &lt;name&gt;Tool` means `ToolMetaclass` is a base class, `BaseTool` is a derived class that inherits from `ToolMetaclass`, and `&lt;name&gt;Tool` (like `AIPluginTool`, `BaseGraphQLTool` etc.) are further derived classes that inherit from `BaseTool`. </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -&gt; **Question**: What classes are derived from the Chain class? </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    **Answer**: The classes that are derived from the Chain class are:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    1. LLMSummarizationCheckerChain</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    2. MapReduceChain</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    3. OpenAIModerationChain</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    4. NatBotChain</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    5. QAGenerationChain</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    6. QAWithSourcesChain</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    7. RetrievalQAWithSourcesChain</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    8. VectorDBQAWithSourcesChain</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    9. RetrievalQA</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    10. VectorDBQA</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    11. LLMRouterChain</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    12. MultiPromptChain</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    13. MultiRetrievalQAChain</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    14. MultiRouteChain</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    15. RouterChain</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    16. SequentialChain</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    17. SimpleSequentialChain</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    18. TransformChain</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    19. BaseConversationalRetrievalChain</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    20. ConstitutionalChain </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    -&gt; **Question**: What one improvement do you propose in code in relation to the class herarchy for the Chain class? </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    **Answer**: As an AI model, I don&#x27;t have personal opinions. However, one suggestion could be to improve the documentation of the Chain class hierarchy. The current comments and docstrings provide some details but it could be helpful to include more explicit explanations about the hierarchy, roles of each subclass, and their relationships with one another. Also, incorporating UML diagrams or other visuals could help developers better understand the structure and interactions of the classes. </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><p>The can look at the <a href="https://smith.langchain.com/public/2b23045f-4e49-4d2d-8980-dec85259af36/r" target="_blank" rel="noopener noreferrer">LangSmith trace</a> to see what is happening under the hood:</p><ul><li>In particular, the code well structured and kept together in the retrival output</li><li>The retrieved code and chat history are passed to the LLM for answer distillation</li></ul><p><img loading="lazy" alt="Image description" src="/langchain/assets/images/code_retrieval-238439ab9f5edfe8cbdbc6fcfbc97179.png" width="1987" height="988" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="open-source-llms">Open source LLMs<a href="#open-source-llms" class="hash-link" aria-label="Direct link to Open source LLMs" title="Direct link to Open source LLMs">​</a></h3><p>We can use <a href="https://about.fb.com/news/2023/08/code-llama-ai-for-coding/" target="_blank" rel="noopener noreferrer">Code LLaMA</a> via LLamaCPP or <a href="https://ollama.ai/blog/run-code-llama-locally" target="_blank" rel="noopener noreferrer">Ollama integration</a>.</p><p>Note: be sure to upgrade <code>llama-cpp-python</code> in order to use the new <code>gguf</code> <a href="https://github.com/abetlen/llama-cpp-python/pull/633" target="_blank" rel="noopener noreferrer">file format</a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">CMAKE_ARGS=&quot;-DLLAMA_METAL=on&quot; FORCE_CMAKE=1 /Users/rlm/miniforge3/envs/llama2/bin/pip install -U llama-cpp-python --no-cache-dir</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Check out the latest code-llama models <a href="https://huggingface.co/TheBloke/CodeLlama-13B-Instruct-GGUF/tree/main" target="_blank" rel="noopener noreferrer">here</a>.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> langchain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">llms </span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> LlamaCpp</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> langchain </span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> PromptTemplate</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> LLMChain</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> langchain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">callbacks</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">manager </span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> CallbackManager</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> langchain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">memory </span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> ConversationSummaryMemory</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> langchain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">chains </span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> ConversationalRetrievalChain </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> langchain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">callbacks</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">streaming_stdout </span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> StreamingStdOutCallbackHandler</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)"><h4 style="padding-left:0.65rem;margin-bottom:0.45rem">API Reference:</h4><ul style="padding-bottom:1rem"><li><a href="https://api.python.langchain.com/en/latest/llms/langchain.llms.llamacpp.LlamaCpp.html"><span>LlamaCpp</span></a></li><li><a href="https://api.python.langchain.com/en/latest/callbacks/langchain.callbacks.manager.CallbackManager.html"><span>CallbackManager</span></a></li><li><a href="https://api.python.langchain.com/en/latest/memory/langchain.memory.summary.ConversationSummaryMemory.html"><span>ConversationSummaryMemory</span></a></li><li><a href="https://api.python.langchain.com/en/latest/chains/langchain.chains.conversational_retrieval.base.ConversationalRetrievalChain.html"><span>ConversationalRetrievalChain</span></a></li><li><a href="https://api.python.langchain.com/en/latest/callbacks/langchain.callbacks.streaming_stdout.StreamingStdOutCallbackHandler.html"><span>StreamingStdOutCallbackHandler</span></a></li></ul></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">callback_manager </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> CallbackManager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">StreamingStdOutCallbackHandler</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">llm </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> LlamaCpp</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    model_path</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/Users/rlm/Desktop/Code/llama/code-llama/codellama-13b-instruct.Q4_K_M.gguf&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    n_ctx</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">5000</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    n_gpu_layers</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    n_batch</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">512</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    f16_kv</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(0, 128, 0)"># MUST set to True, otherwise you will run into problem after a couple of calls</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    callback_manager</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">callback_manager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    verbose</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div lang="python"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: loaded meta data with 17 key-value pairs and 363 tensors from /Users/rlm/Desktop/Code/llama/code-llama/codellama-13b-instruct.Q4_K_M.gguf (version GGUF V1 (latest))</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor    0:                token_embd.weight q4_0     [  5120, 32016,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor    1:               output_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor    2:                    output.weight f16      [  5120, 32016,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor    3:              blk.0.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor    4:              blk.0.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor    5:              blk.0.attn_v.weight q6_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor    6:         blk.0.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor    7:            blk.0.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor    8:            blk.0.ffn_down.weight q6_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor    9:              blk.0.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   10:           blk.0.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   11:            blk.0.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   12:              blk.1.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   13:              blk.1.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   14:              blk.1.attn_v.weight q6_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   15:         blk.1.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   16:            blk.1.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   17:            blk.1.ffn_down.weight q6_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   18:              blk.1.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   19:           blk.1.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   20:            blk.1.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   21:              blk.2.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   22:              blk.2.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   23:              blk.2.attn_v.weight q6_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   24:         blk.2.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   25:            blk.2.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   26:            blk.2.ffn_down.weight q6_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   27:              blk.2.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   28:           blk.2.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   29:            blk.2.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   30:              blk.3.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   31:              blk.3.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   32:              blk.3.attn_v.weight q6_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   33:         blk.3.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   34:            blk.3.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   35:            blk.3.ffn_down.weight q6_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   36:              blk.3.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   37:           blk.3.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   38:            blk.3.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   39:              blk.4.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   40:              blk.4.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   41:              blk.4.attn_v.weight q6_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   42:         blk.4.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   43:            blk.4.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   44:            blk.4.ffn_down.weight q6_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   45:              blk.4.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   46:           blk.4.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   47:            blk.4.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   48:              blk.5.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   49:              blk.5.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   50:              blk.5.attn_v.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   51:         blk.5.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   52:            blk.5.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   53:            blk.5.ffn_down.weight q4_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   54:              blk.5.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   55:           blk.5.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   56:            blk.5.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   57:              blk.6.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   58:              blk.6.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   59:              blk.6.attn_v.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   60:         blk.6.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   61:            blk.6.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   62:            blk.6.ffn_down.weight q4_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   63:              blk.6.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   64:           blk.6.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   65:            blk.6.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   66:              blk.7.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   67:              blk.7.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   68:              blk.7.attn_v.weight q6_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   69:         blk.7.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   70:            blk.7.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   71:            blk.7.ffn_down.weight q6_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   72:              blk.7.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   73:           blk.7.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   74:            blk.7.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   75:              blk.8.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   76:              blk.8.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   77:              blk.8.attn_v.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   78:         blk.8.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   79:            blk.8.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   80:            blk.8.ffn_down.weight q4_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   81:              blk.8.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   82:           blk.8.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   83:            blk.8.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   84:              blk.9.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   85:              blk.9.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   86:              blk.9.attn_v.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   87:         blk.9.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   88:            blk.9.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   89:            blk.9.ffn_down.weight q4_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   90:              blk.9.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   91:           blk.9.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   92:            blk.9.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   93:             blk.10.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   94:             blk.10.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   95:             blk.10.attn_v.weight q6_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   96:        blk.10.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   97:           blk.10.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   98:           blk.10.ffn_down.weight q6_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor   99:             blk.10.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  100:          blk.10.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  101:           blk.10.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  102:             blk.11.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  103:             blk.11.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  104:             blk.11.attn_v.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  105:        blk.11.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  106:           blk.11.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  107:           blk.11.ffn_down.weight q4_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  108:             blk.11.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  109:          blk.11.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  110:           blk.11.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  111:             blk.12.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  112:             blk.12.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  113:             blk.12.attn_v.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  114:        blk.12.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  115:           blk.12.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  116:           blk.12.ffn_down.weight q4_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  117:             blk.12.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  118:          blk.12.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  119:           blk.12.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  120:             blk.13.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  121:             blk.13.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  122:             blk.13.attn_v.weight q6_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  123:        blk.13.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  124:           blk.13.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  125:           blk.13.ffn_down.weight q6_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  126:             blk.13.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  127:          blk.13.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  128:           blk.13.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  129:             blk.14.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  130:             blk.14.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  131:             blk.14.attn_v.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  132:        blk.14.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  133:           blk.14.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  134:           blk.14.ffn_down.weight q4_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  135:             blk.14.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  136:          blk.14.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  137:           blk.14.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  138:             blk.15.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  139:             blk.15.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  140:             blk.15.attn_v.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  141:        blk.15.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  142:           blk.15.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  143:           blk.15.ffn_down.weight q4_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  144:             blk.15.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  145:          blk.15.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  146:           blk.15.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  147:             blk.16.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  148:             blk.16.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  149:             blk.16.attn_v.weight q6_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  150:        blk.16.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  151:           blk.16.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  152:           blk.16.ffn_down.weight q6_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  153:             blk.16.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  154:          blk.16.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  155:           blk.16.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  156:             blk.17.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  157:             blk.17.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  158:             blk.17.attn_v.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  159:        blk.17.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  160:           blk.17.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  161:           blk.17.ffn_down.weight q4_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  162:             blk.17.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  163:          blk.17.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  164:           blk.17.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  165:             blk.18.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  166:             blk.18.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  167:             blk.18.attn_v.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  168:        blk.18.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  169:           blk.18.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  170:           blk.18.ffn_down.weight q4_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  171:             blk.18.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  172:          blk.18.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  173:           blk.18.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  174:             blk.19.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  175:             blk.19.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  176:             blk.19.attn_v.weight q6_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  177:        blk.19.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  178:           blk.19.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  179:           blk.19.ffn_down.weight q6_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  180:             blk.19.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  181:          blk.19.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  182:           blk.19.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  183:             blk.20.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  184:             blk.20.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  185:             blk.20.attn_v.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  186:        blk.20.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  187:           blk.20.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  188:           blk.20.ffn_down.weight q4_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  189:             blk.20.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  190:          blk.20.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  191:           blk.20.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  192:             blk.21.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  193:             blk.21.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  194:             blk.21.attn_v.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  195:        blk.21.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  196:           blk.21.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  197:           blk.21.ffn_down.weight q4_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  198:             blk.21.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  199:          blk.21.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  200:           blk.21.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  201:             blk.22.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  202:             blk.22.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  203:             blk.22.attn_v.weight q6_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  204:        blk.22.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  205:           blk.22.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  206:           blk.22.ffn_down.weight q6_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  207:             blk.22.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  208:          blk.22.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  209:           blk.22.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  210:             blk.23.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  211:             blk.23.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  212:             blk.23.attn_v.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  213:        blk.23.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  214:           blk.23.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  215:           blk.23.ffn_down.weight q4_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  216:             blk.23.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  217:          blk.23.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  218:           blk.23.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  219:             blk.24.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  220:             blk.24.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  221:             blk.24.attn_v.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  222:        blk.24.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  223:           blk.24.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  224:           blk.24.ffn_down.weight q4_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  225:             blk.24.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  226:          blk.24.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  227:           blk.24.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  228:             blk.25.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  229:             blk.25.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  230:             blk.25.attn_v.weight q6_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  231:        blk.25.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  232:           blk.25.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  233:           blk.25.ffn_down.weight q6_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  234:             blk.25.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  235:          blk.25.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  236:           blk.25.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  237:             blk.26.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  238:             blk.26.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  239:             blk.26.attn_v.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  240:        blk.26.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  241:           blk.26.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  242:           blk.26.ffn_down.weight q4_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  243:             blk.26.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  244:          blk.26.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  245:           blk.26.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  246:             blk.27.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  247:             blk.27.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  248:             blk.27.attn_v.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  249:        blk.27.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  250:           blk.27.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  251:           blk.27.ffn_down.weight q4_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  252:             blk.27.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  253:          blk.27.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  254:           blk.27.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  255:             blk.28.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  256:             blk.28.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  257:             blk.28.attn_v.weight q6_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  258:        blk.28.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  259:           blk.28.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  260:           blk.28.ffn_down.weight q6_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  261:             blk.28.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  262:          blk.28.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  263:           blk.28.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  264:             blk.29.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  265:             blk.29.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  266:             blk.29.attn_v.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  267:        blk.29.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  268:           blk.29.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  269:           blk.29.ffn_down.weight q4_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  270:             blk.29.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  271:          blk.29.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  272:           blk.29.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  273:             blk.30.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  274:             blk.30.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  275:             blk.30.attn_v.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  276:        blk.30.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  277:           blk.30.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  278:           blk.30.ffn_down.weight q4_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  279:             blk.30.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  280:          blk.30.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  281:           blk.30.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  282:             blk.31.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  283:             blk.31.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  284:             blk.31.attn_v.weight q6_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  285:        blk.31.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  286:           blk.31.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  287:           blk.31.ffn_down.weight q6_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  288:             blk.31.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  289:          blk.31.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  290:           blk.31.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  291:             blk.32.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  292:             blk.32.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  293:             blk.32.attn_v.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  294:        blk.32.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  295:           blk.32.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  296:           blk.32.ffn_down.weight q4_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  297:             blk.32.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  298:          blk.32.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  299:           blk.32.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  300:             blk.33.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  301:             blk.33.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  302:             blk.33.attn_v.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  303:        blk.33.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  304:           blk.33.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  305:           blk.33.ffn_down.weight q4_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  306:             blk.33.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  307:          blk.33.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  308:           blk.33.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  309:             blk.34.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  310:             blk.34.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  311:             blk.34.attn_v.weight q6_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  312:        blk.34.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  313:           blk.34.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  314:           blk.34.ffn_down.weight q6_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  315:             blk.34.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  316:          blk.34.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  317:           blk.34.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  318:             blk.35.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  319:             blk.35.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  320:             blk.35.attn_v.weight q6_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  321:        blk.35.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  322:           blk.35.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  323:           blk.35.ffn_down.weight q6_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  324:             blk.35.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  325:          blk.35.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  326:           blk.35.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  327:             blk.36.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  328:             blk.36.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  329:             blk.36.attn_v.weight q6_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  330:        blk.36.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  331:           blk.36.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  332:           blk.36.ffn_down.weight q6_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  333:             blk.36.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  334:          blk.36.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  335:           blk.36.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  336:             blk.37.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  337:             blk.37.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  338:             blk.37.attn_v.weight q6_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  339:        blk.37.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  340:           blk.37.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  341:           blk.37.ffn_down.weight q6_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  342:             blk.37.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  343:          blk.37.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  344:           blk.37.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  345:             blk.38.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  346:             blk.38.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  347:             blk.38.attn_v.weight q6_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  348:        blk.38.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  349:           blk.38.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  350:           blk.38.ffn_down.weight q6_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  351:             blk.38.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  352:          blk.38.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  353:           blk.38.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  354:             blk.39.attn_q.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  355:             blk.39.attn_k.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  356:             blk.39.attn_v.weight q6_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  357:        blk.39.attn_output.weight q4_K     [  5120,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  358:           blk.39.ffn_gate.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  359:           blk.39.ffn_down.weight q6_K     [ 13824,  5120,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  360:             blk.39.ffn_up.weight q4_K     [  5120, 13824,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  361:          blk.39.attn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - tensor  362:           blk.39.ffn_norm.weight f32      [  5120,     1,     1,     1 ]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - kv   0:                       general.architecture str     </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - kv   1:                               general.name str     </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - kv   2:                       llama.context_length u32     </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - kv   3:                     llama.embedding_length u32     </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - kv   4:                          llama.block_count u32     </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - kv   5:                  llama.feed_forward_length u32     </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - kv   6:                 llama.rope.dimension_count u32     </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - kv   7:                 llama.attention.head_count u32     </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - kv   8:              llama.attention.head_count_kv u32     </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - kv   9:     llama.attention.layer_norm_rms_epsilon f32     </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - kv  10:                       llama.rope.freq_base f32     </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - kv  11:                          general.file_type u32     </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - kv  12:                       tokenizer.ggml.model str     </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - kv  13:                      tokenizer.ggml.tokens arr     </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - kv  14:                      tokenizer.ggml.scores arr     </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - kv  15:                  tokenizer.ggml.token_type arr     </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - kv  16:               general.quantization_version u32     </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - type  f32:   81 tensors</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - type  f16:    1 tensors</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - type q4_0:    1 tensors</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - type q4_K:  240 tensors</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_model_loader: - type q6_K:   40 tensors</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: format         = GGUF V1 (latest)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: arch           = llama</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: vocab type     = SPM</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: n_vocab        = 32016</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: n_merges       = 0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: n_ctx_train    = 16384</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: n_ctx          = 5000</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: n_embd         = 5120</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: n_head         = 40</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: n_head_kv      = 40</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: n_layer        = 40</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: n_rot          = 128</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: n_gqa          = 1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: f_norm_eps     = 1.0e-05</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: f_norm_rms_eps = 1.0e-05</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: n_ff           = 13824</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: freq_base      = 1000000.0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: freq_scale     = 1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: model type     = 13B</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: model ftype    = mostly Q4_K - Medium</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: model size     = 13.02 B</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: general.name   = LLaMA</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: BOS token = 1 &#x27;&lt;s&gt;&#x27;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: EOS token = 2 &#x27;&lt;/s&gt;&#x27;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: UNK token = 0 &#x27;&lt;unk&gt;&#x27;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_print_meta: LF token  = 13 &#x27;&lt;0x0A&gt;&#x27;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_tensors: ggml ctx size =    0.11 MB</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llm_load_tensors: mem required  = 7685.49 MB (+ 3906.25 MB per state)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    .................................................................................................</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_new_context_with_model: kv self size  = 3906.25 MB</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: allocating</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loading &#x27;/Users/rlm/miniforge3/envs/llama2/lib/python3.9/site-packages/llama_cpp/ggml-metal.metal&#x27;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_add                            0x12126dd00 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_add_row                        0x12126d610 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_mul                            0x12126f2a0 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_mul_row                        0x12126f500 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_scale                          0x12126f760 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_silu                           0x12126fe40 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_relu                           0x1212700a0 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_gelu                           0x121270300 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_soft_max                       0x121270560 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_diag_mask_inf                  0x1212707c0 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_get_rows_f16                   0x121270a20 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_get_rows_q4_0                  0x121270c80 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_get_rows_q4_1                  0x121270ee0 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_get_rows_q8_0                  0x121271140 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_get_rows_q2_K                  0x1212713a0 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_get_rows_q3_K                  0x121271600 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_get_rows_q4_K                  0x121271860 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_get_rows_q5_K                  0x121271ac0 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_get_rows_q6_K                  0x121271d20 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_rms_norm                       0x121271f80 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_norm                           0x1212721e0 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_mul_mat_f16_f32                0x121272440 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_mul_mat_q4_0_f32               0x1212726a0 | th_max =  896 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_mul_mat_q4_1_f32               0x121272900 | th_max =  896 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_mul_mat_q8_0_f32               0x121272b60 | th_max =  768 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_mul_mat_q2_K_f32               0x121272dc0 | th_max =  640 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_mul_mat_q3_K_f32               0x121273020 | th_max =  704 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_mul_mat_q4_K_f32               0x121273280 | th_max =  576 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_mul_mat_q5_K_f32               0x1212734e0 | th_max =  576 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_mul_mat_q6_K_f32               0x121273740 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_mul_mm_f16_f32                 0x1212739a0 | th_max =  768 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_mul_mm_q4_0_f32                0x121273c00 | th_max =  768 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_mul_mm_q8_0_f32                0x121273e60 | th_max =  768 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_mul_mm_q4_1_f32                0x1212740c0 | th_max =  768 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_mul_mm_q2_K_f32                0x121274320 | th_max =  768 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_mul_mm_q3_K_f32                0x121274580 | th_max =  768 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_mul_mm_q4_K_f32                0x1212747e0 | th_max =  768 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_mul_mm_q5_K_f32                0x121274a40 | th_max =  704 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_mul_mm_q6_K_f32                0x121274ca0 | th_max =  704 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_rope                           0x121274f00 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_alibi_f32                      0x121275160 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_cpy_f32_f16                    0x1212753c0 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_cpy_f32_f32                    0x121275620 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: loaded kernel_cpy_f16_f16                    0x121275880 | th_max = 1024 | th_width =   32</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: recommendedMaxWorkingSetSize  = 21845.34 MB</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: hasUnifiedMemory              = true</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_init: maxTransferRate               = built-in GPU</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_new_context_with_model: compute buffer total size =  442.03 MB</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_new_context_with_model: max tensor size =   312.66 MB</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_add_buffer: allocated &#x27;data            &#x27; buffer, size =  7686.00 MB, (20243.77 / 21845.34)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_add_buffer: allocated &#x27;eval            &#x27; buffer, size =     1.42 MB, (20245.19 / 21845.34)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_add_buffer: allocated &#x27;kv              &#x27; buffer, size =  3908.25 MB, (24153.44 / 21845.34), warning: current allocated size is greater than the recommended max working set size</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    AVX = 0 | AVX2 = 0 | AVX512 = 0 | AVX512_VBMI = 0 | AVX512_VNNI = 0 | FMA = 0 | NEON = 1 | ARM_FMA = 1 | F16C = 0 | FP16_VA = 1 | WASM_SIMD = 0 | BLAS = 1 | SSE3 = 0 | VSX = 0 | </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ggml_metal_add_buffer: allocated &#x27;alloc           &#x27; buffer, size =   440.64 MB, (24594.08 / 21845.34), warning: current allocated size is greater than the recommended max working set size</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">llm</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Question: In bash, how do I list all the text files in the current directory that have been modified in the last month? Answer:&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div lang="python"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">    Llama.generate: prefix-match hit</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     You can use the find command with a few options to this task. Here is an example of how you might go about it:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    find . -type f -mtime +28 -exec ls {} \;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    This command only for plain files (not), and limits the search to files that were more than 28 days ago, then the &quot;ls&quot; command on each file found. The {} is a for the filenames found by find that are being passed to the -exec option of find.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    You can also use find in with other unix utilities like sort and grep to the list of files before they are:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    find . -type f -mtime +28 | sort | grep pattern</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    This will find all plain files that match a given pattern, then sort the listically and filter it for only the matches.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    Answer: `find` is pretty with its search. The should work as well:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    \begin{code}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ls -l $(find . -mtime +28)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    \end{code}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    (It&#x27;s a bad idea to parse output from `ls`, though, as you may</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_print_timings:        load time =  1074.43 ms</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_print_timings:      sample time =   180.71 ms /   256 runs   (    0.71 ms per token,  1416.67 tokens per second)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_print_timings: prompt eval time =     0.00 ms /     1 tokens (    0.00 ms per token,      inf tokens per second)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_print_timings:        eval time =  9593.04 ms /   256 runs   (   37.47 ms per token,    26.69 tokens per second)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_print_timings:       total time = 10139.91 ms</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    &#x27; You can use the find command with a few options to this task. Here is an example of how you might go about it:\n\nfind . -type f -mtime +28 -exec ls {} \\;\nThis command only for plain files (not), and limits the search to files that were more than 28 days ago, then the &quot;ls&quot; command on each file found. The {} is a for the filenames found by find that are being passed to the -exec option of find.\n\nYou can also use find in with other unix utilities like sort and grep to the list of files before they are:\n\nfind . -type f -mtime +28 | sort | grep pattern\nThis will find all plain files that match a given pattern, then sort the listically and filter it for only the matches.\n\nAnswer: `find` is pretty with its search. The should work as well:\n\n\\begin{code}\nls -l $(find . -mtime +28)\n\\end{code}\n\n(It\&#x27;s a bad idea to parse output from `ls`, though, as you may&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> langchain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">chains</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">question_answering </span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> load_qa_chain</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># Prompt</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">template </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token triple-quoted-string string" style="color:rgb(163, 21, 21)">&quot;&quot;&quot;Use the following pieces of context to answer the question at the end. </span><br></span><span class="token-line" style="color:#000000"><span class="token triple-quoted-string string" style="color:rgb(163, 21, 21)">If you don&#x27;t know the answer, just say that you don&#x27;t know, don&#x27;t try to make up an answer. </span><br></span><span class="token-line" style="color:#000000"><span class="token triple-quoted-string string" style="color:rgb(163, 21, 21)">Use three sentences maximum and keep the answer as concise as possible. </span><br></span><span class="token-line" style="color:#000000"><span class="token triple-quoted-string string" style="color:rgb(163, 21, 21)">{context}</span><br></span><span class="token-line" style="color:#000000"><span class="token triple-quoted-string string" style="color:rgb(163, 21, 21)">Question: {question}</span><br></span><span class="token-line" style="color:#000000"><span class="token triple-quoted-string string" style="color:rgb(163, 21, 21)">Helpful Answer:&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">QA_CHAIN_PROMPT </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> PromptTemplate</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    input_variables</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;context&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;question&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    template</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">template</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)"><h4 style="padding-left:0.65rem;margin-bottom:0.45rem">API Reference:</h4><ul style="padding-bottom:1rem"><li><a href="https://api.python.langchain.com/en/latest/chains/langchain.chains.question_answering.load_qa_chain.html"><span>load_qa_chain</span></a></li></ul></div><p>We can also use the LangChain Prompt Hub to store and fetch prompts.</p><p>This will work with your <a href="https://docs.smith.langchain.com/" target="_blank" rel="noopener noreferrer">LangSmith API key</a>.</p><p>Let&#x27;s try with a default RAG prompt, <a href="https://smith.langchain.com/hub/rlm/rag-prompt" target="_blank" rel="noopener noreferrer">here</a>.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> langchain </span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> hub</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">QA_CHAIN_PROMPT </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> hub</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">pull</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;rlm/rag-prompt-default&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"># Docs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">question </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;How can I initialize a ReAct agent?&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">docs </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> retriever</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">get_relevant_documents</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">question</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># Chain</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">chain </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> load_qa_chain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">llm</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> chain_type</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;stuff&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> prompt</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">QA_CHAIN_PROMPT</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># Run</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">chain</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;input_documents&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> docs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;question&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> question</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> return_only_outputs</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div lang="python"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#F5F5F5"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">    Llama.generate: prefix-match hit</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     You can use the `ReActAgent` class and pass it the desired tools as, for example, you would do like this to create an agent with the `Lookup` and `Search` tool:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ```python</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    from langchain.agents.react import ReActAgent</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    from langchain.tools.lookup import Lookup</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    from langchain.tools.search import Search</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ReActAgent(Lookup(), Search())</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ```</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_print_timings:        load time =  1074.43 ms</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_print_timings:      sample time =    65.46 ms /    94 runs   (    0.70 ms per token,  1435.95 tokens per second)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_print_timings: prompt eval time = 15975.57 ms /  1408 tokens (   11.35 ms per token,    88.13 tokens per second)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_print_timings:        eval time =  4772.57 ms /    93 runs   (   51.32 ms per token,    19.49 tokens per second)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    llama_print_timings:       total time = 20959.57 ms</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    {&#x27;output_text&#x27;: &#x27; You can use the `ReActAgent` class and pass it the desired tools as, for example, you would do like this to create an agent with the `Lookup` and `Search` tool:\n```python\nfrom langchain.agents.react import ReActAgent\nfrom langchain.tools.lookup import Lookup\nfrom langchain.tools.search import Search\nReActAgent(Lookup(), Search())\n```&#x27;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><p>Here&#x27;s the trace <a href="https://smith.langchain.com/public/f21c4bcd-88da-4681-8b22-a0bb0e31a0d3/r" target="_blank" rel="noopener noreferrer">RAG</a>, showing the retrieved docs.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/langchain/docs/use_cases/chatbots"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Chatbots</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/langchain/docs/use_cases/extraction"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Extraction</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#use-case" class="table-of-contents__link toc-highlight">Use case</a></li><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#quickstart" class="table-of-contents__link toc-highlight">Quickstart</a><ul><li><a href="#loading" class="table-of-contents__link toc-highlight">Loading</a></li><li><a href="#splitting" class="table-of-contents__link toc-highlight">Splitting</a></li><li><a href="#retrievalqa" class="table-of-contents__link toc-highlight">RetrievalQA</a></li><li><a href="#chat" class="table-of-contents__link toc-highlight">Chat</a></li><li><a href="#open-source-llms" class="table-of-contents__link toc-highlight">Open source LLMs</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/cU2adEyC7w" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/LangChainAI" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">GitHub</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/hwchase17/langchain" target="_blank" rel="noopener noreferrer" class="footer__link-item">Python<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/hwchase17/langchainjs" target="_blank" rel="noopener noreferrer" class="footer__link-item">JS/TS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://langchain.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Homepage<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://blog.langchain.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 LangChain, Inc.</div></div></div></footer></div>
<script src="/langchain/assets/js/runtime~main.a20b23d6.js"></script>
<script src="/langchain/assets/js/main.af9852a9.js"></script>
</body>
</html>